[{"content":"Sherman-Morrison å…¬å¼æ˜¯çº¿æ€§ä»£æ•°ä¸­çš„ä¸€ä¸ªé‡è¦ç»“æœï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªå¯é€†çŸ©é˜µç»è¿‡ç§©ä¸º 1 çš„æ›´æ–°åçš„é€†çŸ©é˜µã€‚å…·ä½“æ¥è¯´ï¼Œå½“æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯é€†çš„ $n \\times n$çŸ©é˜µ$A$ å’Œä¸¤ä¸ªåˆ—å‘é‡$u$ã€$v$ æ—¶ï¼ŒSherman-Morrison å…¬å¼ç»™å‡ºäº†çŸ©é˜µ$A + u v^\\top$ çš„é€†çš„æ˜¾å¼è¡¨è¾¾å¼ã€‚\nå…¬å¼å¦‚ä¸‹ï¼š\n$$ (A + u v^\\top)^{-1} = A^{-1} - \\frac{A^{-1} u v^\\top A^{-1}}{1 + v^\\top A^{-1} u} $$ è§£é‡Šï¼š\n$A$æ˜¯ä¸€ä¸ªå¯é€†çš„$n \\times n$çŸ©é˜µã€‚ $u$å’Œ$v$æ˜¯$n \\times 1$çš„åˆ—å‘é‡ã€‚ $u v^\\top$æ˜¯ä¸€ä¸ª$n \\times n$çš„çŸ©é˜µï¼Œä¸”ç§©ä¸º 1ï¼Œå› ä¸ºå®ƒæ˜¯ä¸¤ä¸ªå‘é‡çš„å¤–ç§¯ã€‚ $A + u v^\\top$è¡¨ç¤ºå¯¹çŸ©é˜µ$A$è¿›è¡Œäº†ä¸€æ¬¡ç§©ä¸º 1 çš„æ›´æ–°ã€‚ $A^{-1}$æ˜¯çŸ©é˜µ$A$çš„é€†çŸ©é˜µã€‚ åˆ†æ¯ä¸­çš„$1 + v^\\top A^{-1} u$æ˜¯ä¸€ä¸ªæ ‡é‡ã€‚ åº”ç”¨ï¼š Sherman-Morrison å…¬å¼åœ¨æ•°å€¼è®¡ç®—ä¸­éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸æˆ‘ä»¬åœ¨å·²çŸ¥$A^{-1}$çš„æƒ…å†µä¸‹ï¼Œé«˜æ•ˆåœ°è®¡ç®—$A + u v^\\top$çš„é€†ï¼Œè€Œä¸éœ€è¦å¯¹æ•´ä¸ªçŸ©é˜µé‡æ–°æ±‚é€†ã€‚è¿™å¯¹äºå¤„ç†å¤§å‹çŸ©é˜µæˆ–éœ€è¦é‡å¤æ›´æ–°çš„æƒ…å†µä¸‹ï¼Œèƒ½æ˜¾è‘—é™ä½è®¡ç®—æˆæœ¬ã€‚ åœ¨æ‚¨çš„é—®é¢˜ä¸­çš„åº”ç”¨ï¼š åœ¨æ‚¨çš„é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—çŸ©é˜µ$(I_m + \\mathbf{1}_m \\mathbf{1}_m^\\top)^{-1}$ï¼Œå…¶ä¸­ $I_m$æ˜¯$m \\times m$çš„å•ä½çŸ©é˜µã€‚ $\\mathbf{1}_m$æ˜¯é•¿åº¦ä¸º$m$çš„å…¨ 1 åˆ—å‘é‡ã€‚ è¿™æ˜¯ä¸€ä¸ªç‰¹å®šæƒ…å†µä¸‹çš„ Sherman-Morrison å…¬å¼åº”ç”¨ï¼š å–$A = I_m$ï¼Œå› æ­¤$A^{-1} = I_m$ã€‚ å–$u = \\mathbf{1}_m$ï¼Œ$v = \\mathbf{1}_m$ã€‚ ä»£å…¥ Sherman-Morrison å…¬å¼ï¼š $$ \\begin{align} \\left( I_m + \\mathbf{1}_m \\mathbf{1}_m^\\top \\right)^{-1} \u0026amp;= I_m^{-1} - \\frac{I_m^{-1} \\mathbf{1}_m \\mathbf{1}_m^\\top I_m^{-1}}{1 + \\mathbf{1}_m^\\top I_m^{-1} \\mathbf{1}_m} \\ \u0026amp;= I_m - \\frac{\\mathbf{1}_m \\mathbf{1}_m^\\top}{1 + \\mathbf{1}_m^\\top \\mathbf{1}_m} \\end{align} $$ å› ä¸ºï¼š$\\mathbf{1}_m^\\top \\mathbf{1}_m = m$ï¼Œæ‰€ä»¥åˆ†æ¯ä¸º$1 + m$ã€‚\næœ€ç»ˆå¾—åˆ°ï¼š $$Â (I_m + \\mathbf{1}_m \\mathbf{1}_m^\\top)^{-1} = I_m - \\frac{\\mathbf{1}_m \\mathbf{1}_m^\\top}{m + 1} $$ æ€»ç»“ï¼š Sherman-Morrison å…¬å¼æä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•æ¥è®¡ç®—ç§©ä¸º 1 æ›´æ–°çŸ©é˜µçš„é€†ã€‚\n","permalink":"http://119.91.218.8/zh/posts/sherman-morrison-%E5%85%AC%E5%BC%8F/","summary":"\u003cp\u003eSherman-Morrison å…¬å¼æ˜¯çº¿æ€§ä»£æ•°ä¸­çš„ä¸€ä¸ªé‡è¦ç»“æœï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªå¯é€†çŸ©é˜µç»è¿‡ç§©ä¸º 1 çš„æ›´æ–°åçš„é€†çŸ©é˜µã€‚å…·ä½“æ¥è¯´ï¼Œå½“æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯é€†çš„ $n \\times n$çŸ©é˜µ$A$ å’Œä¸¤ä¸ªåˆ—å‘é‡$u$ã€$v$ æ—¶ï¼ŒSherman-Morrison å…¬å¼ç»™å‡ºäº†çŸ©é˜µ$A + u v^\\top$ çš„é€†çš„æ˜¾å¼è¡¨è¾¾å¼ã€‚\u003c/p\u003e","title":"Sherman-Morrison å…¬å¼"},{"content":"è¾¹é™…ç†µï¼ˆMarginal Entropyï¼‰ æ˜¯ä¿¡æ¯è®ºä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨æ¥è¡¡é‡å•ä¸ªéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§æˆ–ä¿¡æ¯é‡ã€‚åœ¨æ•°å­¦ä¸Šï¼Œå¦‚æœéšæœºå˜é‡ $X$ çš„æ¦‚ç‡åˆ†å¸ƒä¸º $p(x)$ï¼Œé‚£ä¹ˆ $X$ çš„è¾¹é™…ç†µ $H(X)$ å®šä¹‰ä¸ºï¼š $$ H(X) = - \\sum_x p(x) \\log p(x) $$æˆ–å¯¹äºè¿ç»­å˜é‡ï¼š $$ H(X) = - \\int p(x) \\log p(x) , dx $$\nè¾¹é™…ç†µçš„è§£é‡Š è¾¹é™…ç†µè¡¨ç¤ºæˆ‘ä»¬åœ¨çŸ¥é“å˜é‡ $X$ çš„æ¦‚ç‡åˆ†å¸ƒæƒ…å†µä¸‹ï¼Œä»ç„¶å¯¹ $X$ çš„å–å€¼å­˜åœ¨çš„å¹³å‡ä¸ç¡®å®šæ€§ã€‚å®ƒåæ˜ äº† $X$ æœ¬èº«æºå¸¦çš„ä¿¡æ¯é‡ã€‚å€¼è¶Šå¤§ï¼Œè¯´æ˜å˜é‡ $X$ çš„ä¸ç¡®å®šæ€§è¶Šé«˜ï¼Œä¿¡æ¯é‡ä¹Ÿè¶Šå¤šï¼›ç›¸åï¼Œå€¼è¶Šå°ï¼Œè¯´æ˜å˜é‡çš„å–å€¼æ›´åŠ ç¡®å®šã€‚\nç¤ºä¾‹ å¦‚æœ $X$ æ˜¯ä¸€ä¸ªæŠ•ç¡¬å¸çš„å®éªŒï¼Œä¸”ç¡¬å¸æ˜¯å…¬å¹³çš„ï¼ˆå³ $p(æ­£é¢) = 0.5$ å’Œ $p(åé¢) = 0.5$ï¼‰ï¼Œåˆ™å®ƒçš„è¾¹é™…ç†µä¸ºï¼š $$ H(X) = -[0.5 \\log 0.5 + 0.5 \\log 0.5] = 1 $$åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç†µçš„å€¼ä¸º1ï¼Œè¡¨ç¤ºå¯¹ç¡¬å¸çš„ç»“æœå­˜åœ¨ä¸€å®šçš„ä¸ç¡®å®šæ€§ã€‚è€Œå¦‚æœ $X$ æ˜¯ä¸€ä¸ªç¡®å®šäº‹ä»¶ï¼Œæ¯”å¦‚å§‹ç»ˆä¸ºæ­£é¢ï¼Œé‚£ä¹ˆ $H(X) = 0$ï¼Œå› ä¸ºæ²¡æœ‰ä¸ç¡®å®šæ€§ã€‚\n","permalink":"http://119.91.218.8/zh/posts/%E8%BE%B9%E9%99%85%E7%86%B5marginal-entropy/","summary":"\u003cp\u003e\u003cstrong\u003eè¾¹é™…ç†µï¼ˆMarginal Entropyï¼‰\u003c/strong\u003e æ˜¯ä¿¡æ¯è®ºä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨æ¥è¡¡é‡å•ä¸ªéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§æˆ–ä¿¡æ¯é‡ã€‚åœ¨æ•°å­¦ä¸Šï¼Œå¦‚æœéšæœºå˜é‡ $X$ çš„æ¦‚ç‡åˆ†å¸ƒä¸º $p(x)$ï¼Œé‚£ä¹ˆ $X$ çš„è¾¹é™…ç†µ $H(X)$ å®šä¹‰ä¸ºï¼š\n$$\nH(X) = - \\sum_x p(x) \\log p(x)\n$$æˆ–å¯¹äºè¿ç»­å˜é‡ï¼š\n$$\nH(X) = - \\int p(x) \\log p(x) , dx\n$$\u003c/p\u003e","title":"è¾¹é™…ç†µï¼ˆMarginal Entropy"},{"content":"è¿™æ®µå†…å®¹æ¶‰åŠLå¹³æ»‘æ€§åœ¨ç¨€ç–å­ç©ºé—´ä¸­çš„æ¨å¹¿å’Œåº”ç”¨ã€‚ç»å…¸çš„Lå¹³æ»‘æ€§å®šä¹‰ç”¨äºæè¿°å‡½æ•°åœ¨ä¸åŒç‚¹ä¹‹é—´çš„æ¢¯åº¦å˜åŒ–ç¨‹åº¦ã€‚å½“å‡½æ•°åœ¨æŸä¸ªå­ç©ºé—´ï¼ˆå¦‚ç¨€ç–å­ç©ºé—´ï¼‰ä¸­å®šä¹‰æ—¶ï¼ŒLå¹³æ»‘å¸¸æ•°å¾€å¾€ä¼šå‡å°‘ï¼Œåæ˜ å‡ºå‡½æ•°åœ¨è¾ƒå°çš„åŒºåŸŸå†…å˜åŒ–çš„â€œå¹³æ»‘æ€§â€å¢å¤§ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š\nLå¹³æ»‘æ€§æ¦‚å¿µï¼šLå¹³æ»‘æ€§å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°åœ¨ä¸åŒç‚¹ä¹‹é—´çš„æ¢¯åº¦å·®å¼‚çš„æœ€å¤§å€¼ã€‚å¯¹äºä¸€ä¸ªå¯å¾®å‡½æ•° $f(x)$ï¼Œå½“æ»¡è¶³ $$ |\\nabla f(x) - \\nabla f(y)| \\leq L |x - y|, $$ å³å‡½æ•°åœ¨ä»»æ„ç‚¹ä¹‹é—´çš„æ¢¯åº¦å·®ä¸ä¼šè¶…è¿‡æŸä¸ªå¸¸æ•°å€ $L$ æ—¶ï¼Œæˆ‘ä»¬ç§° $f(x)$ æ˜¯Lå¹³æ»‘çš„ã€‚\näºŒé˜¶æ¡ä»¶ï¼šå¦‚æœ $f(x)$ æ˜¯è¿ç»­äºŒé˜¶å¯å¾®çš„ï¼Œé‚£ä¹ˆå¯ä»¥è¯æ˜å…¶Lå¹³æ»‘æ€§å¯é€šè¿‡å…¶HessiançŸ©é˜µï¼ˆå³äºŒé˜¶å¯¼æ•°ï¼‰æ¥è¡¡é‡ã€‚å…·ä½“æ¥è¯´ï¼ŒLå¹³æ»‘æ€§æˆç«‹çš„æ¡ä»¶ç­‰ä»·äº $$ |\\nabla^2 f(x)| \\leq Lã€‚ $$\næœ€å°çš„Lå€¼å¯ä»¥é€šè¿‡Hessiançš„æœ€å¤§ç‰¹å¾å€¼å¾—åˆ°ï¼Œå³ $$ L = \\max_{x \\in \\mathbb{R}^d} |\\nabla^2 f(x)|ã€‚ $$3. ç¨€ç–å­ç©ºé—´ä¸­çš„Lå¹³æ»‘æ€§ï¼šè‹¥å°†å‡½æ•°å®šä¹‰åœ¨ç¨€ç–å­ç©ºé—´ï¼ˆä¸€ä¸ªä½ç»´ç©ºé—´ï¼‰ä¸­ï¼Œé‚£ä¹ˆç”±äºHessianåœ¨å­ç©ºé—´çš„é™åˆ¶ï¼Œæ¢¯åº¦å˜åŒ–å—åˆ°æ›´å¤šçº¦æŸï¼Œå…¨å±€Lå¹³æ»‘å¸¸æ•°æœ‰å¯èƒ½ä¼šå‡å°ã€‚å…¬å¼ $$ |\\nabla^2 f(x)| = \\max_{v \\in \\mathbb{R}^d \\setminus 0} \\frac{\\nabla^2 f(x) \\cdot v}{|v|} \\geq \\max_{v \\in S \\setminus 0} \\frac{\\nabla^2 f(x) \\cdot v}{|v|} $$ è¡¨ç¤ºäº†åœ¨å­ç©ºé—´ $S \\subseteq \\mathbb{R}^d$ä¸­ï¼ŒHessianå¯¹è¯¥å­ç©ºé—´çš„å½±å“å°äºæˆ–ç­‰äºæ•´ä¸ªç©ºé—´ä¸­çš„æƒ…å†µï¼Œå› æ­¤Lå¹³æ»‘å¸¸æ•°åœ¨ç¨€ç–å­ç©ºé—´å†…å¯èƒ½é™ä½ã€‚\nç»¼ä¸Šï¼Œé€šè¿‡é™åˆ¶å®šä¹‰åŸŸè‡³ç¨€ç–å­ç©ºé—´ï¼ŒLå¹³æ»‘æ€§å‚æ•° $L$ ä¼šç›¸åº”åœ°å‡å°ï¼Œè¿™è¡¨æ˜åœ¨ç¨€ç–å­ç©ºé—´å†…å‡½æ•°æ›´å¹³æ»‘ã€‚\n","permalink":"http://119.91.218.8/zh/posts/l%E5%B9%B3%E6%BB%91/","summary":"\u003cp\u003eè¿™æ®µå†…å®¹æ¶‰åŠ\u003cstrong\u003eLå¹³æ»‘æ€§\u003c/strong\u003eåœ¨\u003cstrong\u003eç¨€ç–å­ç©ºé—´\u003c/strong\u003eä¸­çš„æ¨å¹¿å’Œåº”ç”¨ã€‚ç»å…¸çš„Lå¹³æ»‘æ€§å®šä¹‰ç”¨äºæè¿°å‡½æ•°åœ¨ä¸åŒç‚¹ä¹‹é—´çš„æ¢¯åº¦å˜åŒ–ç¨‹åº¦ã€‚å½“å‡½æ•°åœ¨æŸä¸ªå­ç©ºé—´ï¼ˆå¦‚ç¨€ç–å­ç©ºé—´ï¼‰ä¸­å®šä¹‰æ—¶ï¼ŒLå¹³æ»‘å¸¸æ•°å¾€å¾€ä¼šå‡å°‘ï¼Œåæ˜ å‡ºå‡½æ•°åœ¨è¾ƒå°çš„åŒºåŸŸå†…å˜åŒ–çš„â€œå¹³æ»‘æ€§â€å¢å¤§ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š\u003c/p\u003e","title":"Lå¹³æ»‘"},{"content":"Low-frequency inductive biasï¼ˆä½é¢‘å½’çº³åå·®ï¼‰æ˜¯ä¸€ç§åœ¨æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­çš„å‡è®¾æˆ–å€¾å‘ï¼Œç‰¹åˆ«æ˜¯åœ¨æ·±åº¦å­¦ä¹ é¢†åŸŸï¼Œæ¨¡å‹æ›´å®¹æ˜“å­¦ä¹ ä½é¢‘ä¿¡å·æˆ–ç‰¹å¾ï¼Œè€Œä¸æ˜¯é«˜é¢‘ä¿¡å·ã€‚ç®€å•æ¥è¯´ï¼Œæ¨¡å‹å€¾å‘äºæ•æ‰æ•°æ®ä¸­çš„å¹³æ»‘ã€ç¼“æ…¢å˜åŒ–çš„æ¨¡å¼ï¼Œè€Œä¸å¤ªå®¹æ˜“å­¦ä¹ å¿«é€Ÿå˜åŒ–æˆ–å…·æœ‰é«˜é¢‘ç‡çš„ç»†èŠ‚ã€‚\nèƒŒæ™¯ åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œå°¤å…¶æ˜¯å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNsï¼‰å’Œå˜å‹å™¨æ¨¡å‹ï¼ˆTransformersï¼‰ï¼Œè¿™ç§ä½é¢‘å½’çº³åå·®è¡¨ç°ä¸ºç½‘ç»œèƒ½å¤Ÿæ›´å®¹æ˜“åœ°æ•æ‰åˆ°å¤§å°ºåº¦çš„å…¨å±€ç»“æ„ï¼ˆä¾‹å¦‚å›¾åƒä¸­çš„å¤§åŒºåŸŸæˆ–å¥å­ä¸­çš„å¤§èŒƒå›´ä¸Šä¸‹æ–‡ï¼‰ã€‚è€Œå°å°ºåº¦çš„å±€éƒ¨ç‰¹å¾ï¼ˆä¾‹å¦‚å›¾åƒä¸­çš„ç»†èŠ‚è¾¹ç¼˜æˆ–å¥å­ä¸­çš„å±€éƒ¨ä¾èµ–ï¼‰åˆ™è¾ƒéš¾æ•æ‰ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸è¡¨ç°ä¸ºé«˜é¢‘ä¿¡å·ã€‚\nåŸå›  è¿™ç§åå·®å¯ä»¥ä»ä»¥ä¸‹å‡ æ–¹é¢è§£é‡Šï¼š\næ¢¯åº¦ä¼˜åŒ–è¿‡ç¨‹ï¼šåœ¨æ¨¡å‹çš„è®­ç»ƒä¸­ï¼Œä½é¢‘æ¨¡å¼é€šå¸¸éœ€è¦è¾ƒå°‘çš„å‚æ•°è°ƒæ•´ï¼Œå› æ­¤ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚æ¢¯åº¦ä¸‹é™ï¼‰å¯ä»¥æ›´å¿«åœ°å­¦ä¹ è¿™äº›æ¨¡å¼ã€‚é«˜é¢‘ä¿¡å·åˆ™æ›´åŠ å¤æ‚ï¼Œå¯èƒ½éœ€è¦æ›´å¤šçš„å­¦ä¹ æ­¥éª¤æ‰èƒ½æœ‰æ•ˆæ•æ‰ã€‚\nç½‘ç»œç»“æ„ï¼šç½‘ç»œå±‚çš„è®¾è®¡ï¼ˆå¦‚å·ç§¯æ ¸å¤§å°ã€æ³¨æ„åŠ›æœºåˆ¶çš„è¦†ç›–èŒƒå›´ï¼‰å¸¸å¸¸å¤©ç„¶åå‘äºæ•æ‰å¹³æ»‘çš„æˆ–ä½é¢‘çš„ç‰¹å¾ã€‚æ¯”å¦‚CNNä¸­çš„å¤§å·ç§¯æ ¸ä¼šæ›´å®¹æ˜“å­¦ä¹ å›¾åƒçš„å…¨å±€ç‰¹å¾ï¼Œè€Œè¾ƒå°çš„å·ç§¯æ ¸åˆ™ä¸“æ³¨äºç»†èŠ‚ã€‚\nå‚…é‡Œå¶åˆ†æï¼šç ”ç©¶è¡¨æ˜ï¼Œç¥ç»ç½‘ç»œåœ¨é¢‘åŸŸä¸Šæ›´å®¹æ˜“å­¦ä¹ ä½é¢‘çš„æˆåˆ†ï¼Œè¿™æ˜¯å› ä¸ºé«˜é¢‘ä¿¡å·åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é€šå¸¸éœ€è¦æ›´ç»†è…»çš„è°ƒæ•´å’Œæ›´ç²¾ç»†çš„æƒé‡åˆ†é…ã€‚\nå®é™…å½±å“ ä½é¢‘å½’çº³åå·®åœ¨è®¸å¤šä»»åŠ¡ä¸­æœ‰åŠ©äºæ¨¡å‹æ•æ‰å…¨å±€ä¿¡æ¯ï¼Œä½†å¦‚æœæ¨¡å‹ä¾èµ–äºæ­¤åå·®ï¼Œå¯èƒ½ä¼šå¿½è§†ä¸€äº›å…³é”®çš„é«˜é¢‘ä¿¡å·ï¼ˆä¾‹å¦‚å›¾åƒçš„ç»†å¾®çº¹ç†ï¼Œæˆ–æ–‡æœ¬ä¸­çš„ç²¾ç¡®è¯­æ³•ç»“æ„ï¼‰ã€‚è¿™ä¼šå¯¼è‡´æ¨¡å‹åœ¨å¤„ç†ç»†èŠ‚ä¸Šè¡¨ç°ä¸ä½³ã€‚\nä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæœ‰æ—¶ä¼šé€šè¿‡è°ƒæ•´æ¨¡å‹ç»“æ„ã€åŠ å…¥é«˜é¢‘å¢å¼ºçš„æ­£åˆ™åŒ–æ–¹æ³•ï¼Œæˆ–è€…é€šè¿‡æ•°æ®å¢å¼ºæ¥å¸®åŠ©æ¨¡å‹å­¦ä¹ é«˜é¢‘ç‰¹å¾ã€‚\nç¤ºä¾‹ å›¾åƒå¤„ç†ï¼šåœ¨å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­ï¼Œä½é¢‘å½’çº³åå·®ä¼šä½¿æ¨¡å‹æ›´å®¹æ˜“å­¦ä¹ å›¾åƒçš„æ•´ä½“è½®å»“æˆ–å½¢çŠ¶ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ç»†èŠ‚å¦‚çº¹ç†æˆ–å™ªå£°ã€‚\nè‡ªç„¶è¯­è¨€å¤„ç†ï¼šåœ¨è¯­è¨€æ¨¡å‹ä¸­ï¼Œæ¨¡å‹æ›´å€¾å‘äºå­¦ä¹ å¥å­çš„æ•´ä½“è¯­ä¹‰æˆ–é•¿è·ç¦»çš„ä¸Šä¸‹æ–‡ä¾èµ–ï¼Œè€Œå¿½è§†çŸ­è¯­æˆ–å•è¯ä¹‹é—´çš„å¾®å¦™å…³ç³»ã€‚\nè§£å†³ä½é¢‘å½’çº³åå·®çš„ç­–ç•¥ é«˜é¢‘æ•°æ®å¢å¼ºï¼šé€šè¿‡æ•°æ®å¢å¼ºç­–ç•¥ï¼ˆä¾‹å¦‚æ·»åŠ å™ªå£°ã€æ¨¡ç³Šå¤„ç†ç­‰ï¼‰æé«˜æ¨¡å‹å¯¹é«˜é¢‘ç»†èŠ‚çš„æ•æ„Ÿæ€§ã€‚ å¤šå°ºåº¦ç‰¹å¾èåˆï¼šç»“åˆä¸åŒå°ºåº¦çš„ç‰¹å¾ï¼Œæ¯”å¦‚åœ¨CNNä¸­ä½¿ç”¨ä¸åŒå°ºå¯¸çš„å·ç§¯æ ¸ï¼Œåœ¨å˜å‹å™¨ä¸­ä½¿ç”¨å¤šå±‚æ¬¡çš„æ³¨æ„åŠ›æœºåˆ¶ã€‚ æ€»ä¹‹ï¼Œlow-frequency inductive bias æ˜¯ç¥ç»ç½‘ç»œä¸­çš„ä¸€ç§åå¥½ï¼Œå®ƒåœ¨æŸäº›ä»»åŠ¡ä¸­æ˜¯æœ‰ç›Šçš„ï¼Œä½†å¯¹äºéœ€è¦é«˜ç²¾åº¦ç‰¹å¾è¯†åˆ«çš„ä»»åŠ¡ï¼Œå¯èƒ½ä¼šæˆä¸ºä¸€ç§å±€é™ã€‚\nå¯ç”¨çš„å‚è€ƒæ–‡çŒ® On the spectral bias of neural networks. ICML 2019 Fourier features let networks learn high frequency functions in low dimensional domains NeurIPS 2020\n","permalink":"http://119.91.218.8/zh/posts/%E4%BD%8E%E9%A2%91%E5%BD%92%E7%BA%B3%E5%81%8F%E5%B7%AE%E5%81%87%E8%AE%BE/","summary":"\u003cp\u003eLow-frequency inductive biasï¼ˆä½é¢‘å½’çº³åå·®ï¼‰æ˜¯ä¸€ç§åœ¨æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­çš„å‡è®¾æˆ–å€¾å‘ï¼Œç‰¹åˆ«æ˜¯åœ¨æ·±åº¦å­¦ä¹ é¢†åŸŸï¼Œæ¨¡å‹æ›´å®¹æ˜“å­¦ä¹ ä½é¢‘ä¿¡å·æˆ–ç‰¹å¾ï¼Œè€Œä¸æ˜¯é«˜é¢‘ä¿¡å·ã€‚ç®€å•æ¥è¯´ï¼Œæ¨¡å‹å€¾å‘äºæ•æ‰æ•°æ®ä¸­çš„å¹³æ»‘ã€ç¼“æ…¢å˜åŒ–çš„æ¨¡å¼ï¼Œè€Œä¸å¤ªå®¹æ˜“å­¦ä¹ å¿«é€Ÿå˜åŒ–æˆ–å…·æœ‰é«˜é¢‘ç‡çš„ç»†èŠ‚ã€‚\u003c/p\u003e","title":"ä½é¢‘å½’çº³åå·®å‡è®¾"},{"content":"1. äº’ä¿¡æ¯ï¼ˆMutual Informationï¼‰ äº’ä¿¡æ¯ $I(h, x)$ å’Œ $I(h, y)$ æ˜¯ç”¨æ¥è¡¡é‡ç‰¹å¾ $h$ ä¸­åŒ…å«çš„è¾“å…¥ $x$ å’Œæ ‡ç­¾ $y$ çš„ä¿¡æ¯é‡çš„ã€‚äº’ä¿¡æ¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£ç‰¹å¾ä¸­ä¿ç•™çš„æ€»ä½“ä¿¡æ¯é‡ä»¥åŠä¸ä»»åŠ¡ç›¸å…³çš„ä¿¡æ¯é‡ã€‚\näº’ä¿¡æ¯å…¬å¼ï¼š$I(h, x) = H(x) - H(x|h)$ï¼Œè¡¨ç¤ºåœ¨ç»™å®šç‰¹å¾ $h$ çš„æ¡ä»¶ä¸‹ï¼Œè¾“å…¥ $x$ çš„ä¸ç¡®å®šæ€§å‡å°‘äº†å¤šå°‘ã€‚ ä»»åŠ¡ç›¸å…³ä¿¡æ¯ï¼š$I(h, y) = H(y) - H(y|h)$ï¼Œç”¨äºè¡¡é‡ç‰¹å¾ $h$ ä¸­å…³äºæ ‡ç­¾ $y$ çš„ä¿¡æ¯é‡ã€‚ 2. é‡æ„è¯¯å·® $R(x|h)$ é‡æ„è¯¯å·® $R(x|h)$ æ˜¯ä¼°è®¡ $I(h, x)$ çš„ä¸€ä¸ªå…³é”®æŒ‡æ ‡ã€‚å®ƒè¡¨ç¤ºé€šè¿‡ç‰¹å¾ $h$ æ¥é‡æ„è¾“å…¥ $x$ çš„è¯¯å·®å¤§å°ã€‚\næ ¹æ®å…¬å¼ $I(h, x) = H(x) - H(x|h) \\geq H(x) - R(x|h)$ï¼Œäº’ä¿¡æ¯çš„ä¸‹ç•Œå¯ä»¥ç”¨ $H(x) - R(x|h)$ æ¥è¿‘ä¼¼è®¡ç®—ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœèƒ½é€šè¿‡ $h$ å®Œç¾é‡æ„ $x$ï¼Œåˆ™ $R(x|h)$ è¶‹äºé›¶ï¼Œäº’ä¿¡æ¯ $I(h, x)$ çš„ä¼°è®¡å€¼å°±ä¼šæ›´æ¥è¿‘çœŸå®å€¼ã€‚\nè¿‘ä¼¼è®¡ç®—ï¼šé€šè¿‡è®­ç»ƒä¸€ä¸ªè§£ç å™¨æ¥æœ€å°åŒ– $R(x|h)$ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾— $I(h, x)$ çš„ä¼°è®¡å€¼ã€‚ 3. äºŒå…ƒäº¤å‰ç†µé‡æ„æŸå¤± åœ¨å®è·µä¸­ï¼Œä¸ºäº†ä¼°è®¡ $I(h, x)$ï¼Œä½œè€…é€‰æ‹©æœ€å°åŒ–äºŒå…ƒäº¤å‰ç†µé‡æ„æŸå¤±ï¼ˆBinary Cross-Entropy Lossï¼‰ï¼Œå³è®¡ç®—æ¯ä¸ªåƒç´ çš„é‡æ„è¯¯å·®çš„å¹³å‡å€¼ã€‚è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°åæ˜  $h$ ä¸­ä¿ç•™çš„è¾“å…¥ä¿¡æ¯é‡ã€‚\nä¼°è®¡ $I(h, x)$ çš„æ­¥éª¤ï¼š è®­ç»ƒè§£ç å™¨ï¼Œä½¿å…¶è¾“å‡ºå°½é‡æ¥è¿‘ $x$ã€‚ è®¡ç®—è§£ç å™¨çš„é‡æ„è¯¯å·®ï¼Œä»¥æ­¤ä¸ºåŸºç¡€ä¼°è®¡ $I(h, x)$ã€‚ æœ€åå°† $1 - \\text{AverageBinaryCrossEntropyLoss}(x|h)$ ä½œä¸º $I(h, x)$ çš„è¿‘ä¼¼å€¼ã€‚ 4. è¾…åŠ©åˆ†ç±»å™¨ä¼°è®¡ $I(h, y)$ ä¸ºäº†ä¼°è®¡ $I(h, y)$ï¼Œå³ç‰¹å¾ $h$ ä¸­åŒ…å«çš„ä¸æ ‡ç­¾ $y$ ç›¸å…³çš„ä¿¡æ¯é‡ï¼Œä½œè€…ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©åˆ†ç±»å™¨ã€‚è¿™ä¸ªåˆ†ç±»å™¨ç”¨äºæ¨¡æ‹Ÿ $p(y|h)$ çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå¹¶é€šè¿‡åˆ†ç±»ç²¾åº¦æ¥è¿‘ä¼¼è¡¡é‡ $I(h, y)$ã€‚\nè®¡ç®—æ­¥éª¤ï¼š å®šä¹‰ $I(h, y) = H(y) - H(y|h)$ï¼Œå…¶ä¸­ $H(y|h)$ è¡¨ç¤ºåœ¨ç»™å®š $h$ çš„æ¡ä»¶ä¸‹ $y$ çš„ä¸ç¡®å®šæ€§ã€‚ é€šè¿‡è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨æ¥é¢„æµ‹ $y$ï¼Œå¹¶ä½¿ç”¨åˆ†ç±»çš„å‡†ç¡®æ€§ï¼ˆå³åˆ†ç±»å™¨çš„äº¤å‰ç†µæŸå¤±ï¼‰æ¥ä¼°è®¡ $I(h, y)$ã€‚ åˆ†ç±»å‡†ç¡®ç‡è¶Šé«˜ï¼Œè¡¨æ˜ $h$ ä¸­åŒ…å«çš„å…³äº $y$ çš„ä¿¡æ¯é‡è¶Šå¤šã€‚ 5. æ€»ç»“æ•°å­¦æ–¹æ³• é‡æ„æ–¹æ³•ç”¨äºä¼°è®¡ç‰¹å¾ $h$ ä¸­ä¿ç•™çš„å…³äºè¾“å…¥ $x$ çš„ä¿¡æ¯ $I(h, x)$ã€‚ åˆ†ç±»æ–¹æ³•ç”¨äºä¼°è®¡ç‰¹å¾ $h$ ä¸­ä¿ç•™çš„å…³äºæ ‡ç­¾ $y$ çš„ä¿¡æ¯ $I(h, y)$ã€‚ ","permalink":"http://119.91.218.8/zh/posts/%E4%BA%92%E4%BF%A1%E6%81%AF%E4%B8%8E%E6%A8%A1%E5%9E%8B/","summary":"\u003ch3 id=\"1-äº’ä¿¡æ¯mutual-information\"\u003e1. \u003cstrong\u003eäº’ä¿¡æ¯ï¼ˆMutual Informationï¼‰\u003c/strong\u003e\u003c/h3\u003e\n\u003cp\u003eäº’ä¿¡æ¯ $I(h, x)$ å’Œ $I(h, y)$ æ˜¯ç”¨æ¥è¡¡é‡ç‰¹å¾ $h$ ä¸­åŒ…å«çš„è¾“å…¥ $x$ å’Œæ ‡ç­¾ $y$ çš„ä¿¡æ¯é‡çš„ã€‚äº’ä¿¡æ¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£ç‰¹å¾ä¸­ä¿ç•™çš„æ€»ä½“ä¿¡æ¯é‡ä»¥åŠä¸ä»»åŠ¡ç›¸å…³çš„ä¿¡æ¯é‡ã€‚\u003c/p\u003e","title":"äº’ä¿¡æ¯ä¸æ¨¡å‹"},{"content":"1. å®‰è£… Fish Shell æ­¥éª¤ æ›´æ–°ç³»ç»Ÿï¼š\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y å®‰è£… Fishï¼š\n1 sudo apt install fish -y éªŒè¯å®‰è£…ï¼š\n1 fish --version 2. è®¾ç½® Fish ä¸ºé»˜è®¤ Shell ç¡®è®¤ Fish çš„è·¯å¾„ï¼š\n1 which fish é€šå¸¸è·¯å¾„ä¸º /usr/bin/fishã€‚\nå°† Fish è®¾ç½®ä¸ºé»˜è®¤ Shellï¼š\n1 chsh -s /usr/bin/fish é‡æ–°å¯åŠ¨ç»ˆç«¯ä»¥åº”ç”¨æ›´æ”¹ã€‚\n3. å®‰è£… Fisher (Fish çš„æ’ä»¶ç®¡ç†å™¨) Fisher æ˜¯ä¸€ä¸ªæµè¡Œçš„æ’ä»¶ç®¡ç†å™¨ï¼Œç”¨äºè½»æ¾å®‰è£…å’Œç®¡ç† Fish æ’ä»¶ã€‚\nå®‰è£… Fisherï¼š\n1 curl -sL https://git.io/fisher | source \u0026amp;\u0026amp; fisher install jorgebucaran/fisher éªŒè¯å®‰è£…ï¼š\n1 fisher --version 4. å®‰è£…å¸¸ç”¨æ’ä»¶ æ¨èä»¥ä¸‹å¸¸ç”¨æ’ä»¶ï¼š\næ’ä»¶å®‰è£…å‘½ä»¤ï¼š\n1 fisher install \u0026lt;æ’ä»¶å\u0026gt; æ¨èæ’ä»¶åˆ—è¡¨ï¼š\noh-my-fish/theme-bobthefish: ç¾è§‚çš„ä¸»é¢˜ã€‚\n1 fisher install oh-my-fish/theme-bobthefish jorgebucaran/nvm.fish: Node.js ç‰ˆæœ¬ç®¡ç†ã€‚\n1 fisher install jorgebucaran/nvm.fish PatrickF1/fzf.fish: æ¨¡ç³ŠæŸ¥æ‰¾ã€‚\n1 fisher install PatrickF1/fzf.fish jethrokuan/z: å¿«é€Ÿç›®å½•è·³è½¬ã€‚\n1 fisher install jethrokuan/z franciscolourenco/done: é•¿æ—¶é—´å‘½ä»¤å®Œæˆæ—¶æé†’ã€‚\n1 fisher install franciscolourenco/done 5. é…ç½® Fish Shell Fish ä½¿ç”¨ $HOME/.config/fish/config.fish æ–‡ä»¶æ¥å­˜å‚¨é…ç½®ã€‚å¯ä»¥ç¼–è¾‘è¯¥æ–‡ä»¶ä»¥è‡ªå®šä¹‰ä½ çš„ Shellã€‚\næ‰“å¼€é…ç½®æ–‡ä»¶ï¼š\n1 nano ~/.config/fish/config.fish æ·»åŠ ä¸€äº›å¸¸ç”¨é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # å¯ç”¨æ’ä»¶ fisher install oh-my-fish/theme-bobthefish # è®¾ç½®åˆ«å alias ll=\u0026#34;ls -lh\u0026#34; alias gs=\u0026#34;git status\u0026#34; # è®¾ç½® PATH set -x PATH $PATH /usr/local/bin # è‡ªåŠ¨è·³è½¬æ’ä»¶ jethrokuan/z # å¯ç”¨è¯­æ³•é«˜äº® fisher install ilancosman/tide 6. ç¾åŒ– Shell å®‰è£… Nerd Fonts: Nerd Fonts æä¾›ä¸°å¯Œçš„å›¾æ ‡æ”¯æŒã€‚å¯ä»¥ä» Nerd Fonts å®˜ç½‘ ä¸‹è½½é€‚åˆä½ çš„å­—ä½“ï¼Œå¹¶å®‰è£…åˆ°ç³»ç»Ÿä¸­ã€‚\næ›´æ”¹ç»ˆç«¯å­—ä½“ï¼š\næ‰“å¼€ç»ˆç«¯è®¾ç½®ã€‚ åœ¨å¤–è§‚è®¾ç½®ä¸­é€‰æ‹©åˆšåˆšå®‰è£…çš„ Nerd Font å­—ä½“ã€‚ å¯ç”¨ä¸»é¢˜ï¼š\nä½¿ç”¨ bobthefish æˆ–è€… tide ä¸»é¢˜è¿›è¡Œç¾åŒ–ï¼š\n1 fisher install ilancosman/tide è¿è¡Œ tide configureï¼Œæ ¹æ®æç¤ºå®Œæˆé…ç½®ã€‚\n7. å¯ç”¨è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•é«˜äº® Fish è‡ªå¸¦å¼ºå¤§çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ å¦‚æœéœ€è¦æ›´é«˜çº§çš„è¯­æ³•é«˜äº®ï¼Œå¯ä»¥ä½¿ç”¨æ’ä»¶ tideã€‚ 8. å®‰è£…å¸¸ç”¨å·¥å…· fzf (æ¨¡ç³ŠæŸ¥æ‰¾å·¥å…·):\n1 sudo apt install fzf -y ripgrep (å¿«é€Ÿæœç´¢å·¥å…·):\n1 sudo apt install ripgrep -y 9. å¤‡ä»½å’Œæ¢å¤é…ç½® å¤‡ä»½ å°† ~/.config/fish ç›®å½•æ‰“åŒ…ä¿å­˜ï¼š\n1 tar -czvf fish-config-backup.tar.gz ~/.config/fish æ¢å¤ å°†å¤‡ä»½çš„æ–‡ä»¶è§£å‹åˆ°å¯¹åº”ç›®å½•ï¼š\n1 tar -xzvf fish-config-backup.tar.gz -C ~/ 10. æµ‹è¯•é…ç½® æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œç¡®è®¤é…ç½®ç”Ÿæ•ˆã€‚\nè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒéªŒè¯æ‰€æœ‰åŠŸèƒ½ï¼š\n1 2 3 fish fisher list echo $PATH ","permalink":"http://119.91.218.8/zh/posts/fish-shell-%E9%85%8D%E7%BD%AE/","summary":"\u003ch3 id=\"1-å®‰è£…-fish-shell\"\u003e\u003cstrong\u003e1. å®‰è£… Fish Shell\u003c/strong\u003e\u003c/h3\u003e\n\u003ch4 id=\"æ­¥éª¤\"\u003e\u003cstrong\u003eæ­¥éª¤\u003c/strong\u003e\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eæ›´æ–°ç³»ç»Ÿï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt update \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sudo apt upgrade -y\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå®‰è£… Fishï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt install fish -y\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eéªŒè¯å®‰è£…ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003efish --version\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch3 id=\"2-è®¾ç½®-fish-ä¸ºé»˜è®¤-shell\"\u003e\u003cstrong\u003e2. è®¾ç½® Fish ä¸ºé»˜è®¤ Shell\u003c/strong\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eç¡®è®¤ Fish çš„è·¯å¾„ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ewhich fish\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003eé€šå¸¸è·¯å¾„ä¸º \u003ccode\u003e/usr/bin/fish\u003c/code\u003eã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå°† Fish è®¾ç½®ä¸ºé»˜è®¤ Shellï¼š\u003c/p\u003e","title":"fish shell é…ç½®"},{"content":"åœ¨ä¸ä»–äººåä½œå¼€å‘ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œä½¿ç”¨ git rebase å¯ä»¥ä¿æŒæäº¤å†å²çš„æ¸…æ´å’Œçº¿æ€§åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨èçš„ Git å·¥ä½œæµç¨‹ï¼Œå®ƒç»“åˆäº†åˆ†æ”¯ç®¡ç†å’Œ rebaseï¼Œé€‚åˆåœ¨å¤šäººåä½œä¸­ä¿æŒå†å²å¹²å‡€ï¼š\n1. ç¡®ä¿ä¸»åˆ†æ”¯æ˜¯æœ€æ–°çš„ åœ¨å¼€å§‹æ–°åŠŸèƒ½å¼€å‘å‰ï¼Œé¦–å…ˆç¡®ä¿ä½ çš„æœ¬åœ° mainï¼ˆæˆ– masterï¼‰åˆ†æ”¯ä¸è¿œç¨‹ä»“åº“åŒæ­¥ï¼š\n1 2 git checkout main git pull origin main 2. ä»ä¸»åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°çš„åŠŸèƒ½åˆ†æ”¯ åˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨äºè¯¥åŠŸèƒ½å¼€å‘çš„åˆ†æ”¯ï¼Œé€šå¸¸åŸºäº main åˆ†æ”¯ï¼š\n1 git checkout -b feature-branch 3. åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘å’Œæäº¤ åœ¨ feature-branch ä¸Šè¿›è¡Œå¼€å‘ï¼Œæ¯æ¬¡æœ‰è¿›å±•æ—¶æäº¤ä»£ç ï¼š\n1 2 git add \u0026lt;file\u0026gt; git commit -m \u0026#34;å®ç°äº†éƒ¨åˆ†åŠŸèƒ½\u0026#34; 4. å®šæœŸåŒæ­¥è¿œç¨‹ä¸»åˆ†æ”¯ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå…¶ä»–å¼€å‘è€…å¯èƒ½ä¼šå‘ main åˆ†æ”¯æ¨é€æ–°çš„æäº¤ã€‚ä¸ºäº†é¿å…åŠŸèƒ½åˆ†æ”¯è½åäºä¸»åˆ†æ”¯ï¼Œå¯ä»¥å®šæœŸå°† main çš„æ›´æ–°é›†æˆåˆ°ä½ çš„åŠŸèƒ½åˆ†æ”¯ä¸­ã€‚è¿™é‡Œå»ºè®®ä½¿ç”¨ rebase è€Œä¸æ˜¯ mergeï¼Œè¿™æ ·å¯ä»¥ä¿æŒçº¿æ€§å†å²ï¼š\nåˆ‡æ¢å› main åˆ†æ”¯å¹¶è·å–æœ€æ–°çš„æ›´æ–°ï¼š\n1 2 git checkout main git pull origin main å›åˆ°ä½ çš„åŠŸèƒ½åˆ†æ”¯å¹¶ä½¿ç”¨ rebase æ¥æ›´æ–°ï¼š\n1 2 git checkout feature-branch git rebase main è¿™æ ·åšä¼šå°†ä½ çš„åŠŸèƒ½åˆ†æ”¯ä¸Šçš„æäº¤â€œé‡æ–°æ’­æ”¾â€åˆ° main åˆ†æ”¯çš„æœ€æ–°æäº¤ä¹‹åï¼Œä¿æŒæäº¤å†å²å¹²å‡€ã€‚\n5. è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰ åœ¨ rebase è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°å†²çªï¼ŒGit ä¼šæš‚åœå¹¶æç¤ºä½ è§£å†³å†²çªã€‚è§£å†³å†²çªåï¼š\n1 2 git add \u0026lt;resolved-files\u0026gt; git rebase --continue å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„å†²çªæˆ–å†³å®šæ”¾å¼ƒå½“å‰çš„ rebaseï¼Œå¯ä»¥ä½¿ç”¨ï¼š\n1 git rebase --abort 6. å®ŒæˆåŠŸèƒ½å¼€å‘åï¼Œæ›´æ–°åŠŸèƒ½åˆ†æ”¯ åœ¨åŠŸèƒ½å¼€å‘å®Œæˆå‡†å¤‡æäº¤ä¹‹å‰ï¼Œå†æ¬¡åŒæ­¥ä¸»åˆ†æ”¯ï¼š\n1 2 3 4 git checkout main git pull origin main git checkout feature-branch git rebase main 7. æ¨é€åŠŸèƒ½åˆ†æ”¯ å½“åŠŸèƒ½å¼€å‘å®Œæˆï¼Œå¹¶ä¸”ä½ ç¡®ä¿åŠŸèƒ½åˆ†æ”¯ä¸ä¸»åˆ†æ”¯å·²ç»åŒæ­¥åï¼Œä½ å¯ä»¥å°†åŠŸèƒ½åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚å¦‚æœä½ åœ¨ rebase è¿‡ç¨‹ä¸­é‡å†™äº†æäº¤å†å²ï¼Œéœ€è¦ä½¿ç”¨å¼ºåˆ¶æ¨é€ï¼š\n1 git push --force-with-lease origin feature-branch --force-with-lease æ˜¯ä¸€ç§æ›´å®‰å…¨çš„å¼ºåˆ¶æ¨é€æ–¹å¼ï¼Œå®ƒä¼šæ£€æŸ¥è¿œç¨‹ä»“åº“æ˜¯å¦æœ‰æ–°çš„æäº¤ï¼Œä»¥é¿å…è¯¯è¦†ç›–å…¶ä»–äººçš„å·¥ä½œã€‚\n8. åˆ›å»º Pull Request å¹¶åˆå¹¶ å½“ä½ æ¨é€äº†åŠŸèƒ½åˆ†æ”¯åï¼Œå¯ä»¥åœ¨è¿œç¨‹ä»“åº“ï¼ˆå¦‚ GitHubã€GitLabï¼‰ä¸Šåˆ›å»ºä¸€ä¸ª Pull Requestã€‚å»ºè®®åœ¨åˆå¹¶æ—¶é€‰æ‹©â€œSquash and Mergeâ€æˆ–â€œRebase and Mergeâ€æ–¹å¼ï¼Œä»¥ä¿æŒæäº¤å†å²çš„å¹²å‡€ã€‚\n9. åˆ é™¤æœ¬åœ°å’Œè¿œç¨‹åŠŸèƒ½åˆ†æ”¯ åŠŸèƒ½åˆå¹¶åˆ°ä¸»åˆ†æ”¯åï¼Œå¯ä»¥åˆ é™¤åŠŸèƒ½åˆ†æ”¯ï¼š\n1 2 git branch -d feature-branch git push origin --delete feature-branch æ€»ç»“ è¿™ä¸ªæµç¨‹çš„å…³é”®ç‚¹æ˜¯ï¼š\nä¿æŒä¸»åˆ†æ”¯çš„æ›´æ–°ï¼Œå§‹ç»ˆä»¥æœ€æ–°çš„ä¸»åˆ†æ”¯ä¸ºåŸºç¡€å¼€å‘åŠŸèƒ½ã€‚ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ rebase è€Œä¸æ˜¯ merge æ¥åŒæ­¥ä¸»åˆ†æ”¯çš„æ›´æ–°ï¼Œä»¥ä¿æŒæäº¤å†å²çš„çº¿æ€§å’Œç®€æ´ã€‚ åœ¨åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œç¡®ä¿åŠŸèƒ½åˆ†æ”¯ä¸ä¸»åˆ†æ”¯åŒæ­¥ï¼Œç„¶åå†æ¨é€å¹¶æäº¤ Pull Requestã€‚ ","permalink":"http://119.91.218.8/zh/posts/git%E7%9A%84%E5%8D%8F%E4%BD%9C/","summary":"\u003cp\u003eåœ¨ä¸ä»–äººåä½œå¼€å‘ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œä½¿ç”¨ \u003ccode\u003egit rebase\u003c/code\u003e å¯ä»¥ä¿æŒæäº¤å†å²çš„æ¸…æ´å’Œçº¿æ€§åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¨èçš„ Git å·¥ä½œæµç¨‹ï¼Œå®ƒç»“åˆäº†åˆ†æ”¯ç®¡ç†å’Œ \u003ccode\u003erebase\u003c/code\u003eï¼Œé€‚åˆåœ¨å¤šäººåä½œä¸­ä¿æŒå†å²å¹²å‡€ï¼š\u003c/p\u003e","title":"gitçš„åä½œ"},{"content":"ipmitool sdr elist å‘½ä»¤ç”¨äºæ˜¾ç¤ºç³»ç»Ÿä¼ æ„Ÿå™¨çš„çŠ¶æ€ä¿¡æ¯ã€‚\nSEL å’Œ SDR æ˜¯ IPMIï¼ˆIntelligent Platform Management Interfaceï¼‰ä¸­çš„ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºç³»ç»Ÿäº‹ä»¶æ—¥å¿—å’Œä¼ æ„Ÿå™¨æ•°æ®è®°å½•ã€‚\n1. SEL (System Event Log) SEL ä»£è¡¨ System Event Logï¼Œå³ç³»ç»Ÿäº‹ä»¶æ—¥å¿—ã€‚å®ƒæ˜¯ä¸€ä¸ªè®°å½•äº†ç³»ç»Ÿä¸­å…³é”®äº‹ä»¶çš„æ—¥å¿—æ–‡ä»¶ï¼Œé€šå¸¸åŒ…æ‹¬ç¡¬ä»¶æ•…éšœã€è­¦å‘Šã€ç³»ç»Ÿå¯åŠ¨å’Œå…³é—­äº‹ä»¶ç­‰ã€‚SEL é€šå¸¸ç”¨äºè¯Šæ–­å’Œæ’é™¤ç¡¬ä»¶é—®é¢˜ã€‚äº‹ä»¶æ—¥å¿—ä¼šè®°å½•äº‹ä»¶çš„æ—¶é—´æˆ³ã€äº‹ä»¶ç±»å‹ã€ä¸¥é‡ç¨‹åº¦ä»¥åŠç›¸å…³çš„è¯¦ç»†ä¿¡æ¯ã€‚\nå‘½ä»¤ç¤ºä¾‹: ä½¿ç”¨ ipmitool æŸ¥çœ‹ SELï¼š 1 sudo ipmitool sel list è¿™ä¸ªå‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰è®°å½•çš„ç³»ç»Ÿäº‹ä»¶ï¼Œå¸®åŠ©ç®¡ç†å‘˜åˆ†æç³»ç»Ÿä¸­çš„å¼‚å¸¸æƒ…å†µã€‚ 2. SDR (Sensor Data Record) SDR ä»£è¡¨ Sensor Data Recordï¼Œå³ä¼ æ„Ÿå™¨æ•°æ®è®°å½•ã€‚å®ƒæ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨ç³»ç»Ÿä¸­çš„æ•°æ®åº“ï¼ŒåŒ…å«äº†ç³»ç»Ÿå†…æ‰€æœ‰ä¼ æ„Ÿå™¨çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¼ æ„Ÿå™¨çš„ç±»å‹ã€åç§°ã€IDã€çŠ¶æ€ã€å½“å‰å€¼ã€æŠ¥è­¦é˜ˆå€¼ç­‰ã€‚SDR æ˜¯ IPMI ç³»ç»Ÿä¸­ç”¨äºç›‘æ§å’Œç®¡ç†ç¡¬ä»¶çŠ¶æ€çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚\nå‘½ä»¤ç¤ºä¾‹: ä½¿ç”¨ ipmitool æŸ¥çœ‹ SDRï¼š 1 sudo ipmitool sdr è¿™ä¸ªå‘½ä»¤ä¼šåˆ—å‡ºç³»ç»Ÿä¸­æ‰€æœ‰ä¼ æ„Ÿå™¨çš„çŠ¶æ€å’Œè¯»æ•°ï¼Œå…è®¸ç®¡ç†å‘˜ç›‘æ§ç³»ç»Ÿçš„å¥åº·çŠ¶æ€ã€‚ æ€»ç»“ï¼š SEL ç”¨äºè®°å½•å’ŒæŸ¥çœ‹ç³»ç»Ÿäº‹ä»¶ï¼Œå¸®åŠ©è¯Šæ–­å’Œæ’é™¤æ•…éšœã€‚ SDR ç”¨äºå­˜å‚¨å’Œç®¡ç†ä¼ æ„Ÿå™¨æ•°æ®ï¼Œå®æ—¶ç›‘æ§ç³»ç»Ÿçš„å„é¡¹å‚æ•°ã€‚ äº†è§£ SEL å’Œ SDR æ˜¯ IPMI ç®¡ç†çš„é‡è¦éƒ¨åˆ†ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç»´æŠ¤å’Œç®¡ç†æœåŠ¡å™¨çš„ç¡¬ä»¶çŠ¶æ€ã€‚\nè¾“å‡ºçš„æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç”µæºæ¨¡å—ï¼ˆPS1ã€PS2ã€PS3ã€PS4ï¼‰çš„çŠ¶æ€ã€‚ä»¥ä¸‹æ˜¯è¾“å‡ºä¿¡æ¯çš„å«ä¹‰ï¼š\nPS1 Status:\nC4h: ä¼ æ„Ÿå™¨IDï¼Œå…·ä½“çš„æ•°å€¼å› ç¡¬ä»¶è€Œå¼‚ã€‚ ok: çŠ¶æ€æ­£å¸¸ã€‚ 10.92: ç”µå‹æˆ–ç±»ä¼¼çš„æ•°å€¼ï¼Œè¿™é‡Œé€šå¸¸è¡¨ç¤ºä¸ç”µæºç›¸å…³çš„æ•°å€¼ã€‚ Presence detected: è¡¨ç¤ºç”µæºæ¨¡å—è¢«æ£€æµ‹åˆ°å­˜åœ¨ã€‚ PS2 Status:\nC5h: ä¼ æ„Ÿå™¨IDã€‚ ok: çŠ¶æ€æ­£å¸¸ã€‚ 10.91: ç”µå‹æˆ–ç±»ä¼¼çš„æ•°å€¼ã€‚ Presence detected, Failure detected: è¡¨ç¤ºç”µæºæ¨¡å—è¢«æ£€æµ‹åˆ°å­˜åœ¨ï¼Œä½†ä¹Ÿæ£€æµ‹åˆ°æ•…éšœã€‚ PS3 Status:\nC6h: ä¼ æ„Ÿå™¨IDã€‚ ok: çŠ¶æ€æ­£å¸¸ã€‚ 10.90: ç”µå‹æˆ–ç±»ä¼¼çš„æ•°å€¼ã€‚ Presence detected: è¡¨ç¤ºç”µæºæ¨¡å—è¢«æ£€æµ‹åˆ°å­˜åœ¨ã€‚ PS4 Status:\nC7h: ä¼ æ„Ÿå™¨IDã€‚ ok: çŠ¶æ€æ­£å¸¸ã€‚ 10.89: ç”µå‹æˆ–ç±»ä¼¼çš„æ•°å€¼ã€‚ Presence detected: è¡¨ç¤ºç”µæºæ¨¡å—è¢«æ£€æµ‹åˆ°å­˜åœ¨ã€‚ å…³é”®ç‚¹ï¼š Presence detected: ç”µæºæ¨¡å—è¢«æ£€æµ‹åˆ°ã€‚ Failure detected: ä»…åœ¨ PS2 ä¸­å‡ºç°ï¼Œè¡¨æ˜è¿™ä¸ªç”µæºæ¨¡å—å­˜åœ¨æŸç§æ•…éšœã€‚è™½ç„¶çŠ¶æ€æ˜¾ç¤ºä¸º okï¼Œä½†è¿™å¯èƒ½æ˜¯å› ä¸ºæ•…éšœå¹¶ä¸å½±å“ç³»ç»Ÿçš„æ•´ä½“è¿è¡Œï¼Œä½†ä»ç„¶å€¼å¾—è¿›ä¸€æ­¥æ£€æŸ¥ã€‚ ä½ å¯èƒ½éœ€è¦æ£€æŸ¥ PS2 çš„å…·ä½“çŠ¶æ€ï¼Œå¯èƒ½éœ€è¦é€šè¿‡ ipmitool è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯æˆ–æŸ¥çœ‹ç›¸å…³æ—¥å¿—ï¼Œç¡®ä¿ç”µæºæ¨¡å—åœ¨æœªæ¥ä¸ä¼šå¼•å‘æ›´ä¸¥é‡çš„é—®é¢˜ã€‚\n","permalink":"http://119.91.218.8/zh/posts/%E7%94%B5%E6%BA%90%E6%95%85%E9%9A%9C%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4/","summary":"\u003cp\u003e\u003ccode\u003eipmitool sdr elist\u003c/code\u003e å‘½ä»¤ç”¨äºæ˜¾ç¤ºç³»ç»Ÿä¼ æ„Ÿå™¨çš„çŠ¶æ€ä¿¡æ¯ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eSEL\u003c/code\u003e å’Œ \u003ccode\u003eSDR\u003c/code\u003e æ˜¯ \u003ccode\u003eIPMI\u003c/code\u003eï¼ˆIntelligent Platform Management Interfaceï¼‰ä¸­çš„ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºç³»ç»Ÿäº‹ä»¶æ—¥å¿—å’Œä¼ æ„Ÿå™¨æ•°æ®è®°å½•ã€‚\u003c/p\u003e","title":"ç”µæºæ•…éšœæŸ¥è¯¢æŒ‡ä»¤"},{"content":"ä»Šå¤©åœ¨å°è¯•å¤ç°quip#çš„æ—¶å€™å‘ç°äº†é—®é¢˜ï¼Œåœ¨è¿›è¡Œsetup installçš„æ—¶å€™å‘ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 [1/3] /usr/local/cuda/bin/nvcc --generate-dependencies-with-compile --dependency-output /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o.d -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/torch/csrc/api/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/TH -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/THC -I/usr/local/cuda/include -I/home/ubuntu/miniconda3/envs/quant/include/python3.11 -c -c /home/ubuntu/data/exp/quip-sharp/quiptools/quiptools.cu -o /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o -D__CUDA_NO_HALF_OPERATORS__ -D__CUDA_NO_HALF_CONVERSIONS__ -D__CUDA_NO_BFLOAT16_CONVERSIONS__ -D__CUDA_NO_HALF2_OPERATORS__ --expt-relaxed-constexpr --compiler-options \u0026#39;\u0026#39;\u0026#34;\u0026#39;\u0026#34;\u0026#39;-fPIC\u0026#39;\u0026#34;\u0026#39;\u0026#34;\u0026#39;\u0026#39; -O2 -g -Xcompiler -rdynamic -lineinfo -std=c++20 -DTORCH_API_INCLUDE_EXTENSION_H \u0026#39;-DPYBIND11_COMPILER_TYPE=\u0026#34;_gcc\u0026#34;\u0026#39; \u0026#39;-DPYBIND11_STDLIB=\u0026#34;_libstdcpp\u0026#34;\u0026#39; \u0026#39;-DPYBIND11_BUILD_ABI=\u0026#34;_cxxabi1011\u0026#34;\u0026#39; -DTORCH_EXTENSION_NAME=quiptools_cuda -D_GLIBCXX_USE_CXX11_ABI=0 -gencode=arch=compute_89,code=compute_89 -gencode=arch=compute_89,code=sm_89 FAILED: /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o /usr/local/cuda/bin/nvcc --generate-dependencies-with-compile --dependency-output /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o.d -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/torch/csrc/api/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/TH -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/THC -I/usr/local/cuda/include -I/home/ubuntu/miniconda3/envs/quant/include/python3.11 -c -c /home/ubuntu/data/exp/quip-sharp/quiptools/quiptools.cu -o /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o -D__CUDA_NO_HALF_OPERATORS__ -D__CUDA_NO_HALF_CONVERSIONS__ -D__CUDA_NO_BFLOAT16_CONVERSIONS__ -D__CUDA_NO_HALF2_OPERATORS__ --expt-relaxed-constexpr --compiler-options \u0026#39;\u0026#39;\u0026#34;\u0026#39;\u0026#34;\u0026#39;-fPIC\u0026#39;\u0026#34;\u0026#39;\u0026#34;\u0026#39;\u0026#39; -O2 -g -Xcompiler -rdynamic -lineinfo -std=c++20 -DTORCH_API_INCLUDE_EXTENSION_H \u0026#39;-DPYBIND11_COMPILER_TYPE=\u0026#34;_gcc\u0026#34;\u0026#39; \u0026#39;-DPYBIND11_STDLIB=\u0026#34;_libstdcpp\u0026#34;\u0026#39; \u0026#39;-DPYBIND11_BUILD_ABI=\u0026#34;_cxxabi1011\u0026#34;\u0026#39; -DTORCH_EXTENSION_NAME=quiptools_cuda -D_GLIBCXX_USE_CXX11_ABI=0 -gencode=arch=compute_89,code=compute_89 -gencode=arch=compute_89,code=sm_89 /usr/include/x86_64-linux-gnu/bits/floatn-common.h(214): error: invalid combination of type specifiers typedef float _Float32; ^ /usr/include/x86_64-linux-gnu/bits/floatn-common.h(251): error: invalid combination of type specifiers typedef double _Float64; äº‹å®ä¸Šåªè¦æ¸…ç†å¹²å‡€ä½¿ç”¨çš„gccå’Œg++ç‰ˆæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 ls /usr/bin/gcc* ls /usr/bin/g++* sudo apt remove gcc-10 gcc-13 g++-10 g++-13 # é€šå¸¸ubuntu20.04ä½¿ç”¨9.4ç‰ˆæœ¬çš„gccå’Œg++ # æ‰‹åŠ¨åˆ›å»ºè¿™äº›é“¾æ¥ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 60 sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-9 60 # è®¾ç½®å¯¹åº”ç‰ˆæœ¬ sudo update-alternatives --config gcc sudo update-alternatives --config g++ ","permalink":"http://119.91.218.8/zh/posts/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E7%BC%96%E8%AF%91pytorch-%E7%9A%84cuda%E6%8F%92%E4%BB%B6%E7%9A%84%E8%B8%A9%E5%9D%91%E8%BF%87%E7%A8%8B/","summary":"\u003cp\u003eä»Šå¤©åœ¨å°è¯•å¤ç°quip#çš„æ—¶å€™å‘ç°äº†é—®é¢˜ï¼Œåœ¨è¿›è¡Œsetup installçš„æ—¶å€™å‘ç°\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e13\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e14\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e15\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e16\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e17\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e1/3\u003cspan class=\"o\"\u003e]\u003c/span\u003e /usr/local/cuda/bin/nvcc --generate-dependencies-with-compile --dependency-output /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o.d -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/torch/csrc/api/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/TH -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/THC -I/usr/local/cuda/include -I/home/ubuntu/miniconda3/envs/quant/include/python3.11 -c -c /home/ubuntu/data/exp/quip-sharp/quiptools/quiptools.cu -o /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o -D__CUDA_NO_HALF_OPERATORS__ -D__CUDA_NO_HALF_CONVERSIONS__ -D__CUDA_NO_BFLOAT16_CONVERSIONS__ -D__CUDA_NO_HALF2_OPERATORS__ --expt-relaxed-constexpr --compiler-options \u003cspan class=\"s1\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;-fPIC\u0026#39;\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e -O2 -g -Xcompiler -rdynamic -lineinfo -std\u003cspan class=\"o\"\u003e=\u003c/span\u003ec++20 -DTORCH_API_INCLUDE_EXTENSION_H \u003cspan class=\"s1\"\u003e\u0026#39;-DPYBIND11_COMPILER_TYPE=\u0026#34;_gcc\u0026#34;\u0026#39;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;-DPYBIND11_STDLIB=\u0026#34;_libstdcpp\u0026#34;\u0026#39;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;-DPYBIND11_BUILD_ABI=\u0026#34;_cxxabi1011\u0026#34;\u0026#39;\u003c/span\u003e -DTORCH_EXTENSION_NAME\u003cspan class=\"o\"\u003e=\u003c/span\u003equiptools_cuda -D_GLIBCXX_USE_CXX11_ABI\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e -gencode\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003earch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ecompute_89,code\u003cspan class=\"o\"\u003e=\u003c/span\u003ecompute_89 -gencode\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003earch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ecompute_89,code\u003cspan class=\"o\"\u003e=\u003c/span\u003esm_89\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eFAILED: /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e/usr/local/cuda/bin/nvcc --generate-dependencies-with-compile --dependency-output /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o.d -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/torch/csrc/api/include -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/TH -I/home/ubuntu/miniconda3/envs/quant/lib/python3.11/site-packages/torch/include/THC -I/usr/local/cuda/include -I/home/ubuntu/miniconda3/envs/quant/include/python3.11 -c -c /home/ubuntu/data/exp/quip-sharp/quiptools/quiptools.cu -o /home/ubuntu/data/exp/quip-sharp/quiptools/build/temp.linux-x86_64-cpython-311/quiptools.o -D__CUDA_NO_HALF_OPERATORS__ -D__CUDA_NO_HALF_CONVERSIONS__ -D__CUDA_NO_BFLOAT16_CONVERSIONS__ -D__CUDA_NO_HALF2_OPERATORS__ --expt-relaxed-constexpr --compiler-options \u003cspan class=\"s1\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;-fPIC\u0026#39;\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e -O2 -g -Xcompiler -rdynamic -lineinfo -std\u003cspan class=\"o\"\u003e=\u003c/span\u003ec++20 -DTORCH_API_INCLUDE_EXTENSION_H \u003cspan class=\"s1\"\u003e\u0026#39;-DPYBIND11_COMPILER_TYPE=\u0026#34;_gcc\u0026#34;\u0026#39;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;-DPYBIND11_STDLIB=\u0026#34;_libstdcpp\u0026#34;\u0026#39;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;-DPYBIND11_BUILD_ABI=\u0026#34;_cxxabi1011\u0026#34;\u0026#39;\u003c/span\u003e -DTORCH_EXTENSION_NAME\u003cspan class=\"o\"\u003e=\u003c/span\u003equiptools_cuda -D_GLIBCXX_USE_CXX11_ABI\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e -gencode\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003earch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ecompute_89,code\u003cspan class=\"o\"\u003e=\u003c/span\u003ecompute_89 -gencode\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003earch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ecompute_89,code\u003cspan class=\"o\"\u003e=\u003c/span\u003esm_89\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e/usr/include/x86_64-linux-gnu/bits/floatn-common.h\u003cspan class=\"o\"\u003e(\u003c/span\u003e214\u003cspan class=\"o\"\u003e)\u003c/span\u003e: error: invalid combination of \u003cspan class=\"nb\"\u003etype\u003c/span\u003e specifiers\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eÂ  typedef float _Float32\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eÂ  Â  Â  Â  Â  Â  Â  Â  ^\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e/usr/include/x86_64-linux-gnu/bits/floatn-common.h\u003cspan class=\"o\"\u003e(\u003c/span\u003e251\u003cspan class=\"o\"\u003e)\u003c/span\u003e: error: invalid combination of \u003cspan class=\"nb\"\u003etype\u003c/span\u003e specifiers\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eÂ  typedef double _Float64\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003eäº‹å®ä¸Šåªè¦æ¸…ç†å¹²å‡€ä½¿ç”¨çš„gccå’Œg++ç‰ˆæœ¬\u003c/p\u003e","title":"è®°å½•ä¸€æ¬¡ç¼–è¯‘pytorch çš„cudaæ’ä»¶çš„è¸©å‘è¿‡ç¨‹"},{"content":"ä¸¢å¼ƒæ›´æ”¹ 1. ä¸¢å¼ƒå·¥ä½œåŒºçš„æœªæš‚å­˜æ›´æ”¹ å¦‚æœä½ åœ¨å·¥ä½œåŒºä¿®æ”¹äº†æ–‡ä»¶ä½†å°šæœªæš‚å­˜ï¼ˆä½¿ç”¨ git addï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ–‡ä»¶æ¢å¤åˆ°ä¸Šä¸€æ¬¡æäº¤æ—¶çš„çŠ¶æ€ï¼š\n1 git checkout -- \u0026lt;file\u0026gt; è¿™ä¸ªå‘½ä»¤ä¼šä¸¢å¼ƒæŒ‡å®šæ–‡ä»¶çš„æ›´æ”¹ï¼Œæ¢å¤åˆ°ä¸Šæ¬¡æäº¤çš„ç‰ˆæœ¬ã€‚\nå¦‚æœæƒ³ä¸¢å¼ƒæ‰€æœ‰æ–‡ä»¶çš„æ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ï¼š\n1 git checkout -- . 2. ä¸¢å¼ƒå·²æš‚å­˜çš„æ›´æ”¹ å¦‚æœä½ å·²ç»ä½¿ç”¨ git add å°†æ›´æ”¹æš‚å­˜ï¼Œä½†è¿˜æ²¡æœ‰æäº¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ›´æ”¹ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½†ä¿ç•™åœ¨å·¥ä½œåŒºä¸­ï¼š\n1 git reset HEAD \u0026lt;file\u0026gt; è¿™æ ·åšä¼šå°†æ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½†å·¥ä½œåŒºä¸­çš„æ›´æ”¹ä»ç„¶å­˜åœ¨ã€‚\nå¦‚æœæƒ³å°†æ‰€æœ‰å·²æš‚å­˜çš„æ–‡ä»¶ç§»é™¤æš‚å­˜åŒºï¼Œå¯ä»¥ä½¿ç”¨ï¼š\n1 git reset HEAD . 3. ä¸¢å¼ƒæ‰€æœ‰æœªæäº¤çš„æ›´æ”¹ï¼ˆåŒ…æ‹¬å·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼‰ å¦‚æœä½ æƒ³è¦å½»åº•ä¸¢å¼ƒæ‰€æœ‰æœªæäº¤çš„æ›´æ”¹ï¼ˆåŒ…æ‹¬å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ›´æ”¹ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git reset --hard è¿™ä¸ªå‘½ä»¤ä¼šå°†ä½ çš„å·¥ä½œåŒºå’Œæš‚å­˜åŒºé‡ç½®åˆ°ä¸Šä¸€æ¬¡æäº¤çš„çŠ¶æ€ï¼Œæ‰€æœ‰æœªæäº¤çš„æ›´æ”¹éƒ½ä¼šä¸¢å¤±ã€‚\n4. ä¸¢å¼ƒå·²ç»æäº¤çš„æ›´æ”¹ å¦‚æœä½ å·²ç»æäº¤äº†æ›´æ”¹ï¼Œä½†æƒ³è¦æ’¤é”€æäº¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nå›æ»šåˆ°ä¹‹å‰çš„æäº¤ä½†ä¿ç•™æ›´æ”¹åœ¨å·¥ä½œåŒºï¼š\n1 git reset --soft \u0026lt;commit-hash\u0026gt; è¿™å°†æŠŠå½“å‰åˆ†æ”¯é‡ç½®åˆ°æŒ‡å®šçš„æäº¤ï¼Œä½†ä¿ç•™æ›´æ”¹åœ¨æš‚å­˜åŒºã€‚\nå½»åº•ä¸¢å¼ƒæäº¤åçš„æ›´æ”¹ï¼š\n1 git reset --hard \u0026lt;commit-hash\u0026gt; è¿™ä¸ªå‘½ä»¤ä¼šå°†å½“å‰åˆ†æ”¯é‡ç½®åˆ°æŒ‡å®šçš„æäº¤ï¼Œå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ›´æ”¹éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚\n5. ä¸¢å¼ƒç‰¹å®šæäº¤çš„æ›´æ”¹ å¦‚æœä½ æƒ³æ’¤é”€æŸä¸ªç‰¹å®šçš„æäº¤ï¼Œå¯ä»¥ä½¿ç”¨ git revertï¼š\n1 git revert \u0026lt;commit-hash\u0026gt; è¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€æŒ‡å®šçš„æ›´æ”¹ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–å†å²æäº¤ã€‚\nä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶éœ€è¦è°¨æ…ï¼Œç‰¹åˆ«æ˜¯ git reset --hardï¼Œå› ä¸ºè¿™ä¼šä¸¢å¤±æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œæ— æ³•æ¢å¤ã€‚\n","permalink":"http://119.91.218.8/zh/posts/%E5%B8%B8%E7%94%A8git%E6%93%8D%E4%BD%9C/","summary":"\u003ch3 id=\"ä¸¢å¼ƒæ›´æ”¹\"\u003eä¸¢å¼ƒæ›´æ”¹\u003c/h3\u003e\n\u003ch4 id=\"1-ä¸¢å¼ƒå·¥ä½œåŒºçš„æœªæš‚å­˜æ›´æ”¹\"\u003e1. \u003cstrong\u003eä¸¢å¼ƒå·¥ä½œåŒºçš„æœªæš‚å­˜æ›´æ”¹\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eå¦‚æœä½ åœ¨å·¥ä½œåŒºä¿®æ”¹äº†æ–‡ä»¶ä½†å°šæœªæš‚å­˜ï¼ˆä½¿ç”¨ \u003ccode\u003egit add\u003c/code\u003eï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ–‡ä»¶æ¢å¤åˆ°ä¸Šä¸€æ¬¡æäº¤æ—¶çš„çŠ¶æ€ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit checkout -- \u0026lt;file\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003eè¿™ä¸ªå‘½ä»¤ä¼šä¸¢å¼ƒæŒ‡å®šæ–‡ä»¶çš„æ›´æ”¹ï¼Œæ¢å¤åˆ°ä¸Šæ¬¡æäº¤çš„ç‰ˆæœ¬ã€‚\u003c/p\u003e","title":"å¸¸ç”¨gitæ“ä½œ"},{"content":"2 èƒŒæ™¯ æˆ‘ä»¬æä¾›äº†ä¸€äº›å…³äºç°ä»£ç¡¬ä»¶ï¼ˆGPUï¼‰ä¸Šå¸¸è§æ·±åº¦å­¦ä¹ æ“ä½œæ€§èƒ½ç‰¹æ€§çš„èƒŒæ™¯ä¿¡æ¯ï¼Œå¹¶æè¿°äº†æ³¨æ„åŠ›æœºåˆ¶çš„æ ‡å‡†å®ç°ã€‚\n2.1 ç¡¬ä»¶æ€§èƒ½ æˆ‘ä»¬ä¸»è¦å…³æ³¨GPUã€‚å…¶ä»–ç¡¬ä»¶åŠ é€Ÿå™¨çš„æ€§èƒ½ç±»ä¼¼ã€‚\nGPUå†…å­˜å±‚æ¬¡ç»“æ„\nGPUçš„å†…å­˜å±‚æ¬¡ç»“æ„ï¼ˆå›¾1å·¦ä¾§ï¼‰åŒ…å«å¤šç§ä¸åŒå¤§å°å’Œé€Ÿåº¦çš„å†…å­˜ï¼Œå…¶ä¸­è¾ƒå°çš„å†…å­˜é€Ÿåº¦æ›´å¿«ã€‚ä¾‹å¦‚ï¼ŒA100 GPUå…·æœ‰40-80GBçš„é«˜å¸¦å®½å†…å­˜ï¼ˆHBMï¼‰ï¼Œå…¶å¸¦å®½ä¸º1.5-2.0TB/sï¼Œå¹¶ä¸”æ¯ä¸ª108ä¸ªæµå¤„ç†å™¨ï¼ˆstreaming multiprocessorsï¼‰ä¸­çš„æ¯ä¸ªéƒ½å…·æœ‰192KBçš„ç‰‡ä¸ŠSRAMï¼Œå¸¦å®½ä¼°è®¡ä¸º19TB/så·¦å³ã€‚ç‰‡ä¸ŠSRAMçš„é€Ÿåº¦æ¯”HBMå¿«ä¸€ä¸ªæ•°é‡çº§ï¼Œä½†å…¶å¤§å°åˆ™å°äº†è®¸å¤šæ•°é‡çº§ã€‚éšç€è®¡ç®—é€Ÿåº¦ç›¸å¯¹äºå†…å­˜é€Ÿåº¦çš„æå‡ï¼Œæ“ä½œè¶Šæ¥è¶Šå—åˆ°å†…å­˜ï¼ˆHBMï¼‰è®¿é—®çš„ç“¶é¢ˆå½±å“ã€‚å› æ­¤ï¼Œåˆ©ç”¨å¿«é€Ÿçš„SRAMå˜å¾—æ›´åŠ é‡è¦ã€‚\næ‰§è¡Œæ¨¡å‹\nGPUæ‹¥æœ‰å¤§é‡çº¿ç¨‹æ¥æ‰§è¡Œä¸€ä¸ªæ“ä½œï¼ˆç§°ä¸ºkernelï¼‰ã€‚æ¯ä¸ªkernelä»HBMåŠ è½½è¾“å…¥åˆ°å¯„å­˜å™¨å’ŒSRAMä¸­ï¼Œè¿›è¡Œè®¡ç®—ï¼Œç„¶åå°†è¾“å‡ºå†™å…¥HBMã€‚\næ€§èƒ½ç‰¹æ€§\næ ¹æ®è®¡ç®—å’Œå†…å­˜è®¿é—®çš„å¹³è¡¡ï¼Œæ“ä½œå¯ä»¥åˆ†ä¸ºè®¡ç®—å—é™æˆ–å†…å­˜å—é™ã€‚è¿™é€šå¸¸é€šè¿‡ç®—æœ¯å¼ºåº¦æ¥è¡¡é‡ï¼Œç®—æœ¯å¼ºåº¦æ˜¯æ¯å­—èŠ‚å†…å­˜è®¿é—®çš„ç®—æœ¯æ“ä½œæ•°é‡ã€‚\nè®¡ç®—å—é™ï¼šæ“ä½œçš„æ—¶é—´å–å†³äºç®—æœ¯æ“ä½œçš„æ•°é‡ï¼Œè€Œè®¿é—®HBMçš„æ—¶é—´åˆ™è¦å°‘å¾—å¤šã€‚å…¸å‹çš„ä¾‹å­åŒ…æ‹¬å…·æœ‰å¤§å†…ç»´åº¦çš„çŸ©é˜µä¹˜æ³•å’Œå…·æœ‰å¤§é‡é€šé“çš„å·ç§¯ã€‚\nå†…å­˜å—é™ï¼šæ“ä½œçš„æ—¶é—´å–å†³äºå†…å­˜è®¿é—®çš„æ•°é‡ï¼Œè€Œè®¡ç®—æ‰€èŠ±è´¹çš„æ—¶é—´åˆ™è¦å°‘å¾—å¤šã€‚ä¾‹å­åŒ…æ‹¬å¤§å¤šæ•°å…¶ä»–æ“ä½œï¼šå…ƒç´ çº§æ“ä½œï¼ˆä¾‹å¦‚ï¼Œæ¿€æ´»ã€dropoutï¼‰ï¼Œä»¥åŠå½’çº¦æ“ä½œï¼ˆä¾‹å¦‚ï¼Œæ±‚å’Œã€softmaxã€æ‰¹é‡å½’ä¸€åŒ–ã€å±‚å½’ä¸€åŒ–ï¼‰ã€‚\nå†…æ ¸èåˆ\nåŠ é€Ÿå†…å­˜å—é™æ“ä½œçš„æœ€å¸¸è§æ–¹æ³•æ˜¯å†…æ ¸èåˆï¼šå¦‚æœæœ‰å¤šä¸ªæ“ä½œåº”ç”¨äºç›¸åŒçš„è¾“å…¥ï¼Œåˆ™è¾“å…¥å¯ä»¥ä»HBMä¸­åŠ è½½ä¸€æ¬¡ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªæ“ä½œå¤šæ¬¡åŠ è½½ã€‚ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨èåˆè®¸å¤šå…ƒç´ çº§æ“ä½œã€‚ç„¶è€Œï¼Œåœ¨æ¨¡å‹è®­ç»ƒçš„èƒŒæ™¯ä¸‹ï¼Œä¸­é—´å€¼ä»éœ€è¦å†™å…¥HBMä»¥ä¾›åå‘ä¼ æ’­ä½¿ç”¨ï¼Œä»è€Œé™ä½äº†ç®€å•å†…æ ¸èåˆçš„æ•ˆæœã€‚\n2.2 æ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶å®ç° ç»™å®šè¾“å…¥åºåˆ— $Q, K, V âˆˆ R^{N\\times d}$ï¼Œå…¶ä¸­ ğ‘ æ˜¯åºåˆ—é•¿åº¦ï¼Œğ‘‘ æ˜¯å¤´éƒ¨ç»´åº¦ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ³¨æ„åŠ›è¾“å‡º$O âˆˆ R^{N\\times d}$: $$ S =QK^T\\in R^{N\\times N},\\quad P=softmax(S)\\in R^{N\\times N},\\quad O=PV\\in R^{N\\times N} $$ å…¶ä¸­ softmax æ˜¯æŒ‰è¡Œåº”ç”¨ã€applied row-wiseã€‘çš„ã€‚\næ ‡å‡†çš„æ³¨æ„åŠ›æœºåˆ¶å®ç°å°†çŸ©é˜µ S å’Œ P ç‰©åŒ–ã€materializeã€‘åˆ°é«˜å¸¦å®½å†…å­˜ï¼ˆHBMï¼‰ï¼Œè¿™éœ€è¦ ğ‘‚(ğ‘Â²) çš„å†…å­˜ã€‚é€šå¸¸ ğ‘ è¿œå¤§äº ğ‘‘ï¼ˆä¾‹å¦‚ï¼Œå¯¹äº GPT-2ï¼Œğ‘ = 1024 è€Œ ğ‘‘ = 64ï¼‰ã€‚æˆ‘ä»¬åœ¨ç®—æ³•0ä¸­æè¿°äº†æ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶çš„å®ç°ã€‚ç”±äºéƒ¨åˆ†æˆ–å¤§å¤šæ•°æ“ä½œéƒ½æ˜¯å†…å­˜å—é™çš„ï¼ˆä¾‹å¦‚ softmaxï¼‰ï¼Œå¤§é‡çš„å†…å­˜è®¿é—®ä¼šå¯¼è‡´è¾ƒæ…¢çš„å®é™…è¿è¡Œæ—¶é—´ã€‚\nè¿™ä¸ªé—®é¢˜å› åº”ç”¨äºæ³¨æ„åŠ›çŸ©é˜µçš„å…¶ä»–å…ƒç´ çº§æ“ä½œè€ŒåŠ å‰§ï¼Œä¾‹å¦‚åº”ç”¨äº S çš„æ©ç æ“ä½œæˆ–åº”ç”¨äº P çš„ dropoutã€‚å› æ­¤ï¼Œå·²æœ‰è®¸å¤šå°è¯•å°†å‡ ä¸ªå…ƒç´ çº§æ“ä½œèåˆåœ¨ä¸€èµ·ï¼Œä¾‹å¦‚å°†æ©ç ä¸ softmax èåˆã€‚\nåœ¨ç¬¬3.2èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å±•ç¤ºæ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶å®ç°ä¸­é«˜å¸¦å®½å†…å­˜çš„è®¿é—®æ¬¡æ•°æ˜¯åºåˆ—é•¿åº¦ ğ‘ çš„å¹³æ–¹ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å°†æ¯”è¾ƒæ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶ä¸æˆ‘ä»¬çš„æ–¹æ³•ï¼ˆFlashAttentionï¼‰çš„FLOPsæ•°é‡å’Œé«˜å¸¦å®½å†…å­˜è®¿é—®æ¬¡æ•°ã€‚\nç®—æ³•0ï¼šæ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶å®ç°\nå‰ææ¡ä»¶ï¼šHBMä¸­çš„çŸ©é˜µ $Q, K, V âˆˆ R^{N\\times d}$ã€‚\nä»HBMæŒ‰å—åŠ è½½ Q å’Œ Kï¼Œè®¡ç®— $S = QKáµ€$ï¼Œå¹¶å°† S å†™å…¥ HBMã€‚ ä»HBMè¯»å– Sï¼Œè®¡ç®—$P = softmax(S)$ï¼Œå¹¶å°† P å†™å…¥ HBMã€‚ ä»HBMæŒ‰å—åŠ è½½ P å’Œ Vï¼Œè®¡ç®— $O = PV$ï¼Œå¹¶å°† O å†™å…¥ HBMã€‚ è¿”å› Oã€‚ 3 FlashAttention: ç®—æ³•ã€åˆ†æä¸æ‰©å±• æˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨å‡å°‘HBMè¯»å–/å†™å…¥æ¬¡æ•°çš„æƒ…å†µä¸‹è®¡ç®—ç²¾ç¡®çš„æ³¨æ„åŠ›ï¼Œå¹¶ä¸”æ— éœ€ä¸ºåå‘ä¼ æ’­å­˜å‚¨å¤§å‹ä¸­é—´çŸ©é˜µã€‚è¿™äº§ç”Ÿäº†ä¸€ç§æ—¢èŠ‚çœå†…å­˜åˆåœ¨å®é™…è¿è¡Œæ—¶é—´ä¸Šæ›´å¿«çš„æ³¨æ„åŠ›ç®—æ³•ã€‚æˆ‘ä»¬åˆ†æäº†å…¶IOå¤æ‚æ€§ï¼Œè¡¨æ˜æˆ‘ä»¬çš„æ–¹æ³•ç›¸æ¯”äºæ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶éœ€è¦æ›´å°‘çš„HBMè®¿é—®æ¬¡æ•°ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥å±•ç¤ºäº†FlashAttentionä½œä¸ºä¸€ä¸ªæœ‰ç”¨çš„åŸºæœ¬æ¨¡å—å¯ä»¥æ‰©å±•ä¸ºå¤„ç†å—ç¨€ç–æ³¨æ„åŠ›ã€‚\nä¸ºäº†ä¾¿äºè®²è§£ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨å‰å‘ä¼ æ’­éƒ¨åˆ†ï¼›é™„å½•BåŒ…å«äº†åå‘ä¼ æ’­çš„è¯¦ç»†ä¿¡æ¯ã€‚\n3.1 ä¸€ç§ä½¿ç”¨åˆ†å—å’Œé‡è®¡ç®—çš„é«˜æ•ˆæ³¨æ„åŠ›ç®—æ³• ç»™å®šHBMä¸­çš„è¾“å…¥ $Q, K, V \\in \\mathbb{R}^{N \\times d}$ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®¡ç®—æ³¨æ„åŠ›è¾“å‡º $O \\in \\mathbb{R}^{N \\times d}$ å¹¶å°†å…¶å†™å…¥HBMã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡å°‘HBMè®¿é—®æ¬¡æ•°ï¼ˆåˆ° $N$ çš„äºšäºŒæ¬¡æ–¹ï¼‰ã€‚\næˆ‘ä»¬åº”ç”¨äº†ä¸¤ç§å·²ç¡®ç«‹çš„æŠ€æœ¯ï¼ˆåˆ†å—ã€é‡è®¡ç®—ï¼‰æ¥å…‹æœåœ¨ $N$ çš„äºšäºŒæ¬¡æ–¹HBMè®¿é—®æ¬¡æ•°ä¸‹è®¡ç®—ç²¾ç¡®æ³¨æ„åŠ›çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚æˆ‘ä»¬åœ¨ç®—æ³•1ä¸­æè¿°äº†è¿™ä¸€è¿‡ç¨‹ã€‚ä¸»è¦æ€è·¯æ˜¯å°†è¾“å…¥ $Q, K, V$ åˆ†å—ï¼Œä»æ…¢é€ŸHBMåŠ è½½åˆ°å¿«é€ŸSRAMï¼Œç„¶åæ ¹æ®è¿™äº›å—è®¡ç®—æ³¨æ„åŠ›è¾“å‡ºã€‚é€šè¿‡åœ¨ç´¯åŠ ä¹‹å‰æŒ‰æ­£ç¡®çš„å½’ä¸€åŒ–å› å­ç¼©æ”¾æ¯ä¸ªå—çš„è¾“å‡ºï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚\nåˆ†å—\næˆ‘ä»¬æŒ‰å—è®¡ç®—æ³¨æ„åŠ›ã€‚Softmaxå°† $K$ çš„åˆ—è€¦åˆåœ¨ä¸€èµ·ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡ç¼©æ”¾æ¥åˆ†è§£å¤§çš„softmaxã€‚ä¸ºäº†æ•°å€¼ç¨³å®šæ€§ï¼Œå‘é‡ $x \\in \\mathbb{R}^B$ çš„softmaxè®¡ç®—å¦‚ä¸‹ï¼š $$ m(x) := \\max_i x_i, \\quad f(x) := \\left[ \\exp(x_1 - m(x)), \\dots, \\exp(x_B - m(x)) \\right], \\quad \\ell(x) := \\sum_i f(x)_i, \\quad \\text{softmax}(x) := \\frac{f(x)}{\\ell(x)} $$ å¯¹äºå‘é‡ $x^{(1)}, x^{(2)} \\in \\mathbb{R}^B$ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†è§£è¿æ¥åçš„ $x = \\left[ x^{(1)}, x^{(2)} \\right] \\in \\mathbb{R}^{2B}$ çš„softmaxè®¡ç®—ä¸ºï¼š $$ m(x) = m\\left(\\left[ x^{(1)}, x^{(2)} \\right]\\right) = \\max\\left(m(x^{(1)}), m(x^{(2)})\\right), \\quad f(x) = \\left[ \\exp(m(x^{(1)}) - m(x)) f(x^{(1)}), \\exp(m(x^{(2)}) - m(x)) f(x^{(2)}) \\right], $$ $$ \\ell(x) = \\ell\\left(\\left[ x^{(1)}, x^{(2)} \\right]\\right) = \\exp(m(x^{(1)}) - m(x)) \\ell(x^{(1)}) + \\exp(m(x^{(2)}) - m(x)) \\ell(x^{(2)}), \\quad \\text{softmax}(x) = \\frac{f(x)}{\\ell(x)} $$ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬è·Ÿè¸ªä¸€äº›é¢å¤–çš„ç»Ÿè®¡æ•°æ®ï¼ˆ$m(x), \\ell(x)$ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡è®¡ç®—ä¸€ä¸ªå—çš„softmaxå€¼ã€‚æˆ‘ä»¬å°†è¾“å…¥ $Q, K, V$ åˆ†å—ï¼ˆç®—æ³•1ç¬¬3è¡Œï¼‰ï¼Œè®¡ç®—softmaxå€¼åŠé¢å¤–çš„ç»Ÿè®¡æ•°æ®ï¼ˆç®—æ³•1ç¬¬10è¡Œï¼‰ï¼Œå¹¶åˆå¹¶ç»“æœï¼ˆç®—æ³•1ç¬¬12è¡Œï¼‰ã€‚\né‡è®¡ç®—\næˆ‘ä»¬çš„ç›®æ ‡ä¹‹ä¸€æ˜¯é¿å…å­˜å‚¨ $O(N^2)$ ä¸ªç”¨äºåå‘ä¼ æ’­çš„ä¸­é—´å€¼ã€‚åå‘ä¼ æ’­é€šå¸¸éœ€è¦çŸ©é˜µ $S, P \\in \\mathbb{R}^{N \\times N}$ æ¥è®¡ç®—ç›¸å¯¹äº $Q, K, V$ çš„æ¢¯åº¦ã€‚ç„¶è€Œï¼Œé€šè¿‡å­˜å‚¨è¾“å‡º $O$ å’Œsoftmaxå½’ä¸€åŒ–ç»Ÿè®¡æ•°æ®ï¼ˆ$m, \\ell$ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ä»SRAMä¸­çš„ $Q, K, V$ å—è½»æ¾é‡è®¡ç®—æ³¨æ„åŠ›çŸ©é˜µ $S$ å’Œ $P$ã€‚è¿™å¯ä»¥è§†ä¸ºä¸€ç§é€‰æ‹©æ€§æ¢¯åº¦æ£€æŸ¥ç‚¹ç­–ç•¥ã€‚è™½ç„¶æ¢¯åº¦æ£€æŸ¥ç‚¹ç­–ç•¥å·²è¢«å»ºè®®ç”¨äºå‡å°‘æ‰€éœ€çš„æœ€å¤§å†…å­˜é‡ï¼Œä½†æ‰€æœ‰å·²çŸ¥çš„å®ç°éƒ½ä¸å¾—ä¸åœ¨é€Ÿåº¦å’Œå†…å­˜ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå³ä½¿æœ‰æ›´å¤šçš„FLOPsï¼Œæˆ‘ä»¬çš„é‡è®¡ç®—ç”±äºå‡å°‘äº†HBMè®¿é—®æ¬¡æ•°è€ŒåŠ å¿«äº†åå‘ä¼ æ’­è¿‡ç¨‹ã€‚å®Œæ•´çš„åå‘ä¼ æ’­æè¿°è§é™„å½•Bã€‚\nå®ç°ç»†èŠ‚ï¼šå†…æ ¸èåˆ\nåˆ†å—ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸€ä¸ªCUDAå†…æ ¸ä¸­å®ç°æˆ‘ä»¬çš„ç®—æ³•ï¼Œä»HBMåŠ è½½è¾“å…¥ï¼Œæ‰§è¡Œæ‰€æœ‰è®¡ç®—æ­¥éª¤ï¼ˆçŸ©é˜µä¹˜æ³•ã€softmaxã€å¯é€‰çš„æ©ç å’Œdropoutã€çŸ©é˜µä¹˜æ³•ï¼‰ï¼Œç„¶åå°†ç»“æœå†™å›HBMï¼ˆæ©ç å’Œdropoutåœ¨é™„å½•Bä¸­ï¼‰ã€‚è¿™é¿å…äº†åå¤ä»HBMè¯»å–å’Œå†™å…¥è¾“å…¥å’Œè¾“å‡ºã€‚\nç®—æ³•1ï¼šFlashAttention\nå‰ææ¡ä»¶ï¼šHBMä¸­çš„çŸ©é˜µ $Q, K, V \\in \\mathbb{R}^{N \\times d}$ï¼Œç‰‡ä¸ŠSRAMå¤§å°ä¸º $M$ã€‚\nè®¾ç½®å—å¤§å° $B_c = \\left\\lceil \\frac{M}{4d} \\right\\rceil$, $B_r = min ( \\lceil \\frac{M}{4d} \\rceil ,d)$. åˆå§‹åŒ– $O = (0)_{N \\times d} \\in \\mathbb{R}^{N \\times d}$, $\\ell = (0)_N \\in \\mathbb{R}^N$, $m = (-\\infty)_N \\in \\mathbb{R}^N$ åœ¨HBMä¸­ã€‚ å°† $Q$ åˆ†æˆ $T_r = \\left\\lceil \\frac{N}{B_r} \\right\\rceil$ ä¸ªå— $Q_1, \\dots, Q_{T_r}$ ï¼Œæ¯ä¸ªå¤§å°ä¸º $B_r \\times d$ï¼›å°† $K, V$ åˆ†æˆ $T_c = \\left\\lceil \\frac{N}{B_c} \\right\\rceil$ ä¸ªå— $K_1, \\dots, K_{T_c}$ å’Œ $V_1, \\dots, V_{T_c}$ ï¼Œæ¯ä¸ªå¤§å°ä¸º $B_c \\times d$ã€‚ å°† $O$ åˆ†æˆ $T_r$ ä¸ªå— $O_i, \\dots, O_{T_r}$ ï¼Œæ¯ä¸ªå¤§å°ä¸º $B_r \\times d$ï¼›å°† $\\ell$ åˆ†æˆ $T_r$ ä¸ªå— $\\ell_i, \\dots, \\ell_{T_r}$ ï¼Œæ¯ä¸ªå¤§å°ä¸º $B_r$ï¼›å°† $m$ åˆ†æˆ $T_r$ ä¸ªå— $m_1, \\dots, m_{T_r}$ ï¼Œæ¯ä¸ªå¤§å°ä¸º $B_r$ã€‚ å¯¹äº $1 \\leq j \\leq T_c$ï¼š ä»HBMåŠ è½½ $K_j, V_j$ åˆ°ç‰‡ä¸ŠSRAMã€‚ å¯¹äº $1 \\leq i \\leq T_r$ï¼š ä»HBMåŠ è½½ $Q_i, O_i, \\ell_i, m_i$ åˆ°ç‰‡ä¸ŠSRAMã€‚ åœ¨ç‰‡ä¸Šè®¡ç®— $S_{ij} = Q_i K_j^\\top \\in \\mathbb{R}^{B_r \\times B_c}$ã€‚ åœ¨ç‰‡ä¸Šè®¡ç®— $\\tilde{m}{ij} = \\text{rowmax}(S{ij}) \\in \\mathbb{R}^{B_r}$ï¼Œ$\\tilde{P}{ij} = \\exp(S{ij} - \\tilde{m}{ij}) \\in \\mathbb{R}^{B_r \\times B_c}$ï¼ˆé€ç‚¹è®¡ç®—ï¼‰ï¼Œ$\\tilde{\\ell}{ij} = \\text{rowsum}(\\tilde{P}_{ij}) \\in \\mathbb{R}^{B_r}$ã€‚ åœ¨ç‰‡ä¸Šè®¡ç®— $m_{i}^{\\text{new}} = \\max(m_i, \\tilde{m}{ij}) \\in \\mathbb{R}^{B_r}$ï¼Œ$\\ell{i}^{\\text{new}} = \\exp(m_i - m_{i}^{\\text{new}})\\ell_i + \\exp(\\tilde{m}{ij} - m{i}^{\\text{new}})\\tilde{\\ell}_{ij} \\in \\mathbb{R}^{B_r}$ã€‚ å†™å…¥$$O_i \\leftarrow \\text{diag}(\\ell_{i}^{\\text{new}})^{-1}\\left(\\text{diag}(\\ell_i)\\exp(m_i-m {i}^{\\text{new}})O_i + \\exp(\\tilde{m}{ij} - m_{i}^{\\text{new}})\\tilde{P}_{ij}V_j\\right)$$ åˆ°HBMã€‚ å†™å…¥ $\\ell_i \\leftarrow \\ell_{i}^{\\text{new}}$ï¼Œ$m_i \\leftarrow m_{i}^{\\text{new}}$ åˆ°HBMã€‚ ç»“æŸå¾ªç¯ ç»“æŸå¾ªç¯ è¿”å› $O$ã€‚ æˆ‘ä»¬è¯æ˜äº†FlashAttentionçš„æ­£ç¡®æ€§ã€è¿è¡Œæ—¶é—´å’Œå†…å­˜éœ€æ±‚ï¼ˆè¯æ˜åœ¨é™„å½•Cä¸­ï¼‰ã€‚\nå®šç†1ï¼šç®—æ³•1è¿”å› $O = \\text{softmax}(QK^\\top)V$ ï¼Œå…·æœ‰ $\\mathcal{O}(N^2d)$ çš„FLOPsï¼Œå¹¶ä¸”é™¤äº†è¾“å…¥å’Œè¾“å‡ºä¹‹å¤–ä»…éœ€è¦ $\\mathcal{O}(N)$ çš„é¢å¤–å†…å­˜ã€‚\n","permalink":"http://119.91.218.8/zh/posts/flashattention-fast-and-memory-efficient-exact-attention-with-io-awareness/","summary":"\u003ch2 id=\"2-èƒŒæ™¯\"\u003e2 èƒŒæ™¯\u003c/h2\u003e\n\u003cp\u003eæˆ‘ä»¬æä¾›äº†ä¸€äº›å…³äºç°ä»£ç¡¬ä»¶ï¼ˆGPUï¼‰ä¸Šå¸¸è§æ·±åº¦å­¦ä¹ æ“ä½œæ€§èƒ½ç‰¹æ€§çš„èƒŒæ™¯ä¿¡æ¯ï¼Œå¹¶æè¿°äº†æ³¨æ„åŠ›æœºåˆ¶çš„æ ‡å‡†å®ç°ã€‚\u003c/p\u003e\n\u003ch3 id=\"21-ç¡¬ä»¶æ€§èƒ½\"\u003e2.1 ç¡¬ä»¶æ€§èƒ½\u003c/h3\u003e\n\u003cp\u003eæˆ‘ä»¬ä¸»è¦å…³æ³¨GPUã€‚å…¶ä»–ç¡¬ä»¶åŠ é€Ÿå™¨çš„æ€§èƒ½ç±»ä¼¼ã€‚\u003c/p\u003e","title":"FlashAttention Fast and Memory-Efficient Exact Attention with IO-Awareness"}]